<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <script type="text/javascript" src="x3dom/x3dom.js"> </script>
        <script type="text/javascript" src="js/jquery-1.10.2.min.js"> </script>
        <script type="text/javascript" src="js/javascript.js"> </script>
        <link rel="stylesheet" href="x3dom/x3dom.css" type="text/css" />
        <link rel="stylesheet" href="css/stylesheet.css" type="text/css" media="screen"/>
		<title>Erstelle Deine eigene Pizza!</title>

		 <script type="text/javascript" src="http://www.x3dom.org/download/dev/x3dom-full.js"></script>
		 <script>


			//Noch zu implementieren: einen Counter, der die ID hochz‰hlt, damit die Zutaten eindeutig identifizierbar sind.
			//						  auﬂerdem verhindern, dass die Salami hinter der Pizza landet
			//						  verhindern, dass die Salami die Pizza verl‰sst
			//
			  function addNode()
			    {
			 		var meinTransform = document.createElement('Transform');
			 		meinTransform.setAttribute('id','salami_tOuter');
			 		meinTransform.setAttribute('DEF','salami_tOuter');

			 		var meinInline = document.createElement('Inline');
			 		meinInline.setAttribute('url','salami.x3d');
			 		meinInline.setAttribute('id','salami_inline');
			 		meinInline.setAttribute('DEF','salami_inline');

			        var ot = document.getElementById('scene');
			        meinTransform.appendChild(meinInline);
			        ot.appendChild(meinTransform);

			       	var greenBox = document.getElementById("salami_tOuter");
			       	//alert(greenBox);

			        greenBox.addEventListener('mousedown', start, false);

			        var mvbl = new x3dom.Moveable(boxes, greenBox, moveCallback, 0);


			        return false;
			     };


			    // the x3dom runtime object
			    var drag = false;

			    // on button press
			    function start(event)
			    {
			        if (!drag)
					{
			            drag = true;
			        }
			    }

			    // on mouse move
			    function moveCallback(elem, trans)
			    {
			        document.getElementById('moveEvent').innerHTML = "Move " + elem.id + ": [" + trans + "]";
			    }

			    // some inits to attach listeners etc.


			    document.onload = function()
			    {
			        var boxes = document.getElementById("boxes");

			        boxes.addEventListener('mouseup', stop, false);

			        //var greenBox = document.getElementById("box_2_id");

			        //greenBox.addEventListener('mousedown', start, false);

			        // Moveable wrapper requires x3dom-full.js, its signature is:
			        // x3dom.Moveable(x3domElement, transformNode, callback, snapToGridSize)
			        var mvbl = new x3dom.Moveable(boxes, greenBox, moveCallback, 0);

			    }
  </script>

	</head>

	<body>
    	<div id="wrapper">
            <div id="top">
            	<div id="logo">
            		<img src="images/logoSmall.jpg"  />
            	</div>

                <nav id="mainnavigation">
      				<ul>
        				<li><a href="index.html">Home</a></li>
                        <li><a href="pizzacreator" class="thispage">Pizza Creator</a></li>
                        <li><a href="#">Payment History</a></li>
                        <li><a href="support.html">Contact Us</a></li>
                        <li><a href="#">Login / Registering</a></li>
                    </ul>
                </nav>


				  <input type="button" id="but" value="Hinzuf&uuml;gen" onclick="addNode();"> </input><br />

					  <x3d id='boxes' DEF='boxes' showStat='false' showLog='false' style='width:500px; height:500px; border:0; margin:0; padding:0;'>
				       <scene id="scene" DEF='scene'>
							<inline  id='inline_element' url='text.x3d' ></inline>
							<!-- hier hin -->
						<scene>
					</x3d>

						<!--<input type="button" id="but" value="Entfernen" onclick="removeNode();"> </input><br />

						<img width="10%" src="miau.jpg" onclick="changeTexture('miau.jpg');" style="cursor:pointer;" border="1">
						<br />
						<img width="10%" src="fladenbrottextur_512.jpg" onclick="changeTexture('fladenbrottextur_512.jpg');" style="cursor:pointer;" border="1">
						<br />
						<img width="10%" src="salami.jpg" onclick="changeTexture('salami.jpg');" style="cursor:pointer;" border="1">-->
            </div>
            </body>
</html>
